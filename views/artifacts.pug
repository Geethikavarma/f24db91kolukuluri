doctype html
html
  head
    title Artifacts Search Results
    link(rel="stylesheet", href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css")
  body
    h1 Artifacts Search Results

    .container-fluid
      .row
        each item, index in results
          .col-sm-4
            h2 #{item.artifact_name}
            p Age: #{item.age} years
            p Origin: #{item.origin}
            button(class="buy-btn btn btn-primary mt-2", data-index=index data-name=item.artifact_type) Buy

    script.
      document.addEventListener('DOMContentLoaded', function() {
        const buyButtons = document.querySelectorAll('.buy-btn');
        buyButtons.forEach(button => {
          button.addEventListener('click', function() {
            const index = button.getAttribute('data-index');
            const name = button.getAttribute('data-name');
            buy(index, name);
          });
        });
      });

      function buy(index, name) {
        alert("You purchased item " + index + ": " + name);
      }
extends layout

block content
  div.row
    div(class='artifactAttr') Artifact ID:
    div #{artifact._id}
  div.row
    div(class='artifactAttr') Artifact Type:
    div #{artifact.artifact_type}
  div.row
    div(class='artifactAttr') Artifact Origin:
    div #{artifact.origin}
  div.row
    div(class='artifactAttr') Artifact Age:
    div #{artifact.age}

